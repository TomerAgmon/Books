function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+Pp2":function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return s}));var n=r("kt0X"),i=Object(n.n)("[Search] Search Books",Object(n.s)()),o=Object(n.n)("[Search] Search Books Success",Object(n.s)()),a=Object(n.n)("[Search] Search Books Failure",Object(n.s)()),s=Object(n.n)("[Search] Toggle search loading",Object(n.s)())},Ipon:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("kt0X"),i=r("wbst"),o=Object(n.o)(i.b),a=Object(n.q)(o,(function(t){return t.wishlist}))},QmST:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(){function t(e,r,n,i){_classCallCheck(this,t),this.id=e,this.title=r,this.description=n,this.thumbnailUrl=i}return _createClass(t,null,[{key:"parse",value:function(e){var r;return new t(e.id,e.volumeInfo.title,e.volumeInfo.description,null===(r=e.volumeInfo.imageLinks)||void 0===r?void 0:r.thumbnail)}}]),t}()},SJAo:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return a}));var n=r("kt0X"),i=r("+Pp2"),o="search",a=Object(n.p)({loading:!1,books:void 0,totalItems:0,lastQuery:void 0},Object(n.r)(i.d,(function(t,e){return Object.assign(Object.assign({},t),{loading:e.isLoading})})),Object(n.r)(i.a,(function(t,e){return Object.assign({},t)})),Object(n.r)(i.c,(function(t,e){return Object.assign(Object.assign({},t),{books:e.books,lastQuery:e.query,totalItems:e.query!==t.lastQuery?e.totalItems:t.totalItems})})))},"d7F/":function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return s}));var n=r("kt0X"),i=Object(n.n)("[Wishlist] Add to wishlist",Object(n.s)()),o=Object(n.n)("[Wishlist] Add to wishlist Success",Object(n.s)()),a=Object(n.n)("[Wishlist] Add to wishlist Failiure",Object(n.s)()),s=Object(n.n)("[Wishlist] Remove from wishlist",Object(n.s)())},n2S4:function(t,e,r){"use strict";r.r(e),r.d(e,"BooksModule",(function(){return F}));var n,i,o,a,s,c,u=r("ofXK"),l=r("tyNb"),b=r("fXoL"),f=[{path:"",redirectTo:"search"},{path:"search",loadChildren:function(){return r.e(7).then(r.bind(null,"5k4T")).then((function(t){return t.SearchModule}))}},{path:"wishlist",loadChildren:function(){return r.e(8).then(r.bind(null,"kw8I")).then((function(t){return t.WishlistModule}))}}],h=((n=function t(){_classCallCheck(this,t)}).\u0275mod=b.Mb({type:n}),n.\u0275inj=b.Lb({factory:function(t){return new(t||n)},imports:[[l.d.forChild(f)],l.d]}),n),d=r("kt0X"),p=r("SJAo"),y=r("snw9"),j=r("Kj3r"),O=r("/uUt"),v=r("vkgz"),k=r("eIep"),m=r("lJxs"),w=r("JIr8"),_=r("LRne"),g=r("+Pp2"),S=r("tk/3"),A=r("QmST"),I=r("z6cu"),C=((a=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"formatErrors",value:function(t){return Object(I.a)(t.error)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new S.d;return this.http.get(t,{params:e}).pipe(Object(w.a)(this.formatErrors))}},{key:"put",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(new S.c).set("Content-Type","application/json");return this.http.put(t,JSON.stringify(e),{headers:r}).pipe(Object(w.a)(this.formatErrors))}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(new S.c).set("Content-Type","application/json");return this.http.post(""+t,JSON.stringify(e),{headers:r}).pipe(Object(w.a)(this.formatErrors))}},{key:"delete",value:function(t){return this.http.delete(""+t).pipe(Object(w.a)(this.formatErrors))}}]),t}()).\u0275fac=function(t){return new(t||a)(b.Yb(S.a))},a.\u0275prov=b.Kb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),T=((o=function(){function t(e){_classCallCheck(this,t),this.api=e,this.apiKey="AIzaSyCegaZrlIyR4vBqwGAWJgeLlbYwTSige08",this.apiUrl="https://www.googleapis.com/books/v1/volumes",this.RESULTS_PER_PAGE="20"}return _createClass(t,[{key:"search",value:function(t,e){var r=(new S.d).set("key",this.apiKey).set("q",t).set("maxResults",this.RESULTS_PER_PAGE).set("startIndex",e.toString());return this.api.get(this.apiUrl,r).pipe(Object(m.a)((function(e){var r;return{books:null===(r=e.items)||void 0===r?void 0:r.map((function(t){return A.a.parse(t)})),totalItems:e.totalItems,query:t}})))}}]),t}()).\u0275fac=function(t){return new(t||o)(b.Yb(C))},o.\u0275prov=b.Kb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),E=((i=function t(e,r,n){var i=this;_classCallCheck(this,t),this.actions$=e,this.booksService=r,this.store=n,this.SEARCH_DEBOUNCE=500,this.searchBooks$=Object(y.c)((function(){return i.actions$.pipe(Object(y.d)(g.a),Object(j.a)(i.SEARCH_DEBOUNCE),Object(O.a)((function(t,e){return t.query===e.query&&t.startIndex===e.startIndex})),Object(v.a)((function(){return i.store.dispatch(g.d({isLoading:!0}))})),Object(k.a)((function(t){return 0===t.query.length?Object(_.a)(g.c({books:void 0,totalItems:0,query:t.query})):i.booksService.search(t.query,t.startIndex).pipe(Object(m.a)((function(t){return g.c(t)})),Object(w.a)((function(t){return Object(_.a)(g.b({error:t}))})))})),Object(v.a)((function(){return i.store.dispatch(g.d({isLoading:!1}))})))}))}).\u0275fac=function(t){return new(t||i)(b.Yb(y.a),b.Yb(T),b.Yb(d.h))},i.\u0275prov=b.Kb({token:i,factory:i.\u0275fac}),i),L=r("wbst"),W=r("zp1y"),$=r("d7F/"),q=r("Ipon"),R=r("dNgK"),P=((c=function t(e,r,n){var i=this;_classCallCheck(this,t),this.actions$=e,this.snackbar=r,this.store=n,this.addToWishlist$=Object(y.c)((function(){return i.actions$.pipe(Object(y.d)($.a),Object(k.a)((function(t){return Object(_.a)(t).pipe(Object(W.a)(i.store.select(q.a)),Object(m.a)((function(t){var e=_slicedToArray(t,2),r=e[0],n=e[1];return((null==n?void 0:n.find((function(t){return t.id===r.book.id})))?$.b:$.c)({book:r.book})})))})))})),this.addToWishlistSuccess$=Object(y.c)((function(){return i.actions$.pipe(Object(y.d)($.c),Object(v.a)((function(t){return i.snackbar.open(t.book.title+" added to the wishlist")})))}),{dispatch:!1}),this.addToWishlistFail$=Object(y.c)((function(){return i.actions$.pipe(Object(y.d)($.b),Object(v.a)((function(t){return i.snackbar.open(t.book.title+" is already in the wishlist")})))}),{dispatch:!1}),this.removeFromWishlist$=Object(y.c)((function(){return i.actions$.pipe(Object(y.d)($.d),Object(v.a)((function(t){return i.snackbar.open(t.book.title+" rmoved from the wishlist")})))}),{dispatch:!1})}).\u0275fac=function(t){return new(t||c)(b.Yb(y.a),b.Yb(R.b),b.Yb(d.h))},c.\u0275prov=b.Kb({token:c,factory:c.\u0275fac}),c),F=((s=function t(){_classCallCheck(this,t)}).\u0275mod=b.Mb({type:s}),s.\u0275inj=b.Lb({factory:function(t){return new(t||s)},imports:[[u.c,h,d.j.forFeature(p.b,p.a),y.b.forFeature([E,P]),d.j.forFeature(L.b,L.a)]]}),s)},wbst:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return a}));var n=r("kt0X"),i=r("d7F/"),o="wishlist",a=Object(n.p)({wishlist:[]},Object(n.r)(i.c,(function(t,e){var r=_toConsumableArray(t.wishlist);return r.push(e.book),Object.assign(Object.assign({},t),{wishlist:r})})),Object(n.r)(i.d,(function(t,e){var r=_toConsumableArray(t.wishlist),n=r.findIndex((function(t){return t.id===e.book.id}));return r.splice(n,1),Object.assign(Object.assign({},t),{wishlist:r})})))}}]);